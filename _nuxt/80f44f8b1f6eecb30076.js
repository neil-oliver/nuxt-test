(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{286:function(t,e,n){var content=n(331);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(57).default)("a020b91e",content,!0,{sourceMap:!1})},287:function(t,e,n){var content=n(333);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(57).default)("258b1068",content,!0,{sourceMap:!1})},288:function(t,e,n){var content=n(335);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(57).default)("f93ea110",content,!0,{sourceMap:!1})},289:function(t,e,n){var content=n(337);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(57).default)("5dd0bd92",content,!0,{sourceMap:!1})},291:function(t,e,n){var content=n(343);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(57).default)("fa1a98c2",content,!0,{sourceMap:!1})},293:function(t,e,n){"use strict";n(305),n(329);var r={components:{"animate-number":n(294).a},name:"Correlation",props:["title","tweets","candles","sentiment","offset"],computed:{correlation:function(){var t=this,e=this.getPearsonCorrelation(this.tweets.map((function(e){return e[t.sentiment]})),this.offsetCandles.map((function(t){return t.differenceAvg})));return Number.isNaN(e)&&(e=0),1e3*e.toFixed(2)},match:function(){var t=this;return 100*this.getMatch(this.tweets.map((function(e){return e[t.sentiment]>0?1:0})),this.offsetCandles.map((function(t){return t.differenceAvg>0?1:0})))},offsetCandles:function(){for(var t=JSON.parse(JSON.stringify(this.candles)),i=0;i<Math.abs(this.offset);i++)t.length>0&&t.shift();return t}},methods:{getPearsonCorrelation:function(t,e){var n=0;n=t.length==e.length?t.length:t.length>e.length?e.length:t.length;for(var r=[],o=[],c=[],i=0;i<n;i++)r.push(t[i]*e[i]),o.push(t[i]*t[i]),c.push(e[i]*e[i]);var l=0,h=0,d=0,f=0,v=0;for(i=0;i<n;i++)l+=t[i],h+=e[i],d+=r[i],f+=o[i],v+=c[i];var m=n*f-l*l,x=n*v-h*h;return(n*d-l*h)/Math.sqrt(m*x)},getMatch:function(t,e){for(var n=Math.max(t.length,e.length),r=[],i=0;i<n;i++)t[i]==e[i]?r.push(1):r.push(0);return r.length>0?(r.reduce((function(t,e){return e+t}))/r.length).toFixed(2):0}}},o=(n(330),n(27)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"correlations"}},[n("div",[t._v(t._s(t.title)+" Correlation: "),n("animate-number",{attrs:{val:t.correlation}})],1),t._v(" "),n("div",[t._v(t._s(t.title)+" Match: "),n("animate-number",{attrs:{val:t.match}}),t._v(" %")],1)])}),[],!1,null,"016c17d3",null);e.a=component.exports},294:function(t,e,n){"use strict";n(305);var r=n(295),o={name:"animate-number",props:{val:{required:!0},round:{type:Number,default:0},duration:{type:Number,default:1}},data:function(){return{animatedNumber:0}},watch:{val:function(t){r.a.to(this.$data,{duration:this.duration,animatedNumber:t})}},computed:{animatedRoundedNumber:function(){return this.animatedNumber.toFixed(this.round)}}},c=n(27),component=Object(c.a)(o,(function(){var t=this.$createElement;return(this._self._c||t)("span",[this._v("\n    "+this._s(this.animatedRoundedNumber)+"\n")])}),[],!1,null,"c689d782",null);e.a=component.exports},306:function(t,e,n){"use strict";var r=n(284),o=n(295),c=n(285),l=n.n(c),h=n(293);Date.prototype.addHours=function(t){return this.setTime(this.getTime()+60*t*60*1e3),this},Date.prototype.addMinutes=function(t){return this.setTime(this.getTime()+60*t*1e3),this};var d={name:"Viz-1",components:{correlation:h.a},props:["start","end","tweets","candles","sentiment","index","title","period","offset","fixedHeight","curve"],data:function(){return{svgWidth:"600",svgHeight:"300",margin:{top:50,left:100,bottom:50,right:100},animatedSentimentPath:null,animatedCandlePath:null,modCandles:[]}},created:function(){this.debouncedOffsetDates=l.a.debounce(this.offsetDates,200)},watch:{sentimentPath:function(t){o.a.to(this.$data,{duration:1,animatedSentimentPath:t})},candlePath:function(t){o.a.to(this.$data,{duration:1,animatedCandlePath:t})},offset:function(t,e){return this.debouncedOffsetDates()},candles:function(){this.offsetDates()}},computed:{width:function(){return this.svgWidth-this.margin.left-this.margin.right},height:function(){return this.svgHeight-this.margin.top-this.margin.bottom},curveType:function(){return this.curve?r.curveCardinal:r.curveStepAfter},sentimentPath:function(){var t=this;return this.fixedHeight?r.line().x((function(e){return t.sentimentScale.x(new Date(e.date))})).y((function(e){return t.sentimentScale.y(e[t.sentiment]>0?.5:-.5)})).curve(this.curveType)(this.tweets):r.line().x((function(e){return t.sentimentScale.x(new Date(e.date))})).y((function(e){return t.sentimentScale.y(e[t.sentiment])})).curve(this.curveType)(this.tweets)},pathColor:function(){return r.interpolateViridis(1/4*this.index)},candlePath:function(){var t=this;if(this.fixedHeight){var e=r.extent(this.candles,(function(t){return t.differenceAvg})),n=Math.max(Math.abs(e[0]),e[1]);return r.line().x((function(e){return t.priceScale.x(new Date(e.date))})).y((function(e){return t.priceScale.y(e.differenceAvg>0?n/2:-Math.abs(n/2))})).curve(this.curveType)(this.modCandles)}return r.line().x((function(e){return t.priceScale.x(new Date(e.date))})).y((function(e){return t.priceScale.y(e.differenceAvg)})).curve(this.curveType)(this.modCandles)},sentimentScale:function(){var t=r.scaleTime().range([0,this.width]),e=r.scaleLinear().range([this.height,0]);return t.domain([this.start,this.end]),e.domain([-1,1]),{x:t,y:e}},priceScale:function(){var t=r.scaleTime().range([0,this.width]),e=r.scaleLinear().range([this.height,0]);t.domain([this.start,this.end]);var n=r.extent(this.candles,(function(t){return t.differenceAvg})),o=Math.max(Math.abs(n[0]),n[1]);return e.domain([-Math.abs(o),o]),{x:t,y:e}}},methods:{offsetDates:function(){var t=this,e=JSON.parse(JSON.stringify(t.candles));e.forEach((function(e,n){"minute"==t.period?e.date=new Date(e.date).addMinutes(t.offset):e.date=new Date(e.date).addHours(t.offset)})),this.modCandles=e}},directives:{axis:function(t,e){var n=e.arg,o={x:"axisBottom",y:"axisLeft"}[n],c=e.value[n],l=r.transition().duration(500).ease(r.easeLinear);r.select(t).transition(l).call(r[o](c))}}},f=(n(332),n(27)),component=Object(f.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vis-container"},[n("div",{attrs:{id:"title"}},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"vis",attrs:{id:"correlation"}},[n("svg",{attrs:{width:t.svgWidth,height:t.svgHeight}},[n("g",{attrs:{transform:"translate("+t.margin.left+","+t.margin.top+")"}},[n("line",{staticStyle:{stroke:"rgb(19, 105, 163)","stroke-width":"2"},attrs:{x1:0,y1:t.sentimentScale.y(0),x2:t.width,y2:t.sentimentScale.y(0)}}),t._v(" "),n("g",[n("path",{attrs:{d:t.animatedCandlePath,stroke:"#878787","stroke-width":"1px"}}),t._v(" "),n("path",{attrs:{d:t.animatedSentimentPath,stroke:t.pathColor,"stroke-width":"2px"}})]),t._v(" "),n("g",{directives:[{name:"axis",rawName:"v-axis:x",value:t.sentimentScale,expression:"sentimentScale",arg:"x"}],attrs:{transform:"translate(0, "+t.height+")"}}),t._v(" "),n("g",{directives:[{name:"axis",rawName:"v-axis:y",value:t.sentimentScale,expression:"sentimentScale",arg:"y"}]})])])]),t._v(" "),n("correlation",{attrs:{title:t.title,tweets:t.tweets,candles:t.candles,sentiment:t.sentiment,offset:t.offset}})],1)}),[],!1,null,"bfc29992",null);e.a=component.exports},307:function(t,e,n){"use strict";var r=n(284),o={name:"Viz-2",data:function(){return{svgWidth:"800",svgHeight:"400",margin:{top:50,left:100,bottom:50,right:100}}},props:["start","end","tweets","grid"],computed:{width:function(){return this.svgWidth-this.margin.left-this.margin.right},height:function(){return this.svgHeight-this.margin.top-this.margin.bottom}},methods:{bubbleScale:function(element,i){var t,e,n,o,c,l,h;if(this.grid){var d=Math.ceil(Math.sqrt(this.tweets.length));t=(t=r.scaleLinear().domain([0,d]).range([0,this.width]))(i%d),e=(e=r.scaleLinear().domain([0,d]).range([0,this.height]))(Math.floor(i/d)),c="#1da1f2",o=this.height/(3*d),n=0,l=0,h=0}else(o=r.scaleLinear().range([2,50])).domain(r.extent(this.tweets,(function(t){return t.user.followers_count}))),o=o(element.user.followers_count),(n=r.scaleLinear().range([0,20])).domain(r.extent(this.tweets,(function(t){return t.retweet_count}))),n=n(element.retweet_count),c=(c=r.scaleSequential().domain([-1,1]).interpolator(r.interpolateRdYlGn))(element.sentiment),(t=r.scaleTime().range([0,this.width])).domain([this.start,this.end]),t=t(element.created_at),(e=r.scaleLog().range([this.height,0])).domain(r.extent(this.tweets,(function(t){return t.interaction_count}))),e=e(element.interaction_count),l=.2,h=1;return{strokeSize:n,size:o,color:c,opacity:l,strokeOpacity:h,x:t,y:e}}}},c=(n(334),n(27)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vis",attrs:{id:"bubbles"}},[n("svg",{attrs:{width:t.svgWidth,height:t.svgHeight}},[n("g",{attrs:{transform:"translate("+t.margin.left+","+t.margin.top+")"}},t._l(t.tweets,(function(element,i){return n("g",{on:{mouseover:function(e){return t.$emit("tooltip",{visible:!0,id:element.id_str})},mouseout:function(e){return t.$emit("tooltip",{visible:!1})}}},[n("circle",{attrs:{cx:t.bubbleScale(element,i).x,cy:t.bubbleScale(element,i).y,r:t.bubbleScale(element,i).size,fill:t.bubbleScale(element,i).color}}),t._v(" "),n("circle",{attrs:{cx:t.bubbleScale(element,i).x,cy:t.bubbleScale(element,i).y,r:t.bubbleScale(element,i).size+t.bubbleScale(element,i).strokeSize,fill:t.bubbleScale(element,i).color,"fill-opacity":t.bubbleScale(element,i).opacity,"stroke-opacity":t.bubbleScale(element,i).strokeOpacity,stroke:t.bubbleScale(element,i).color,"stroke-width":"1px","stroke-dasharray":"2"}})])})),0)])])}),[],!1,null,"7cc8fa06",null);e.a=component.exports},308:function(t,e,n){"use strict";n(41),n(16);var r=n(284),o={name:"Viz-3",data:function(){return{svgWidth:"800",svgHeight:"400",margin:{top:50,left:100,bottom:50,right:100},stacked_select:"tweets"}},props:["start","end","timePeriod","filteredTweets","tweets"],computed:{width:function(){return this.svgWidth-this.margin.left-this.margin.right},height:function(){return this.svgHeight-this.margin.top-this.margin.bottom},stack:function(){var t=this,e=r.nest().key((function(e){return t.filterTime(e.created_at)})).entries(this.filteredTweets),n=r.range(0,e.length,1),o=r.stack().keys(n).value((function(e,n){return n<e.values.length?t.stackSelect.selection(e,n):0}));return console.log(o(e)),o(e)},stackScale:function(){var t=this,e=r.scaleLinear().range([this.height,0]);"followers"!=this.stacked_select&&"likes"!=this.stacked_select&&"retweets"!=this.stacked_select||(e=r.scaleLinear().range([this.height,0]));var n=r.scaleTime().range([0,this.width]);return n.domain([this.start,this.end]),e.domain([0,r.max(this.tweets,(function(e){return t.stackSelect.max(e)}))]),{x:n,y:e}},stackSelect:function(){var t=function(t){return t.Count},e=function(t,e){return 1};return"tweets"==this.stacked_select?(e=function(t,e){return 1},t=function(t){return t.Count}):"followers"==this.stacked_select?(e=function(t,e){return t.values[e].followers_count},t=function(t){return t.maxFollowers}):"likes"==this.stacked_select?(e=function(t,e){return t.values[e].favorite_count},t=function(t){return t.maxLikes}):"retweets"==this.stacked_select&&(e=function(t,e){return t.values[e].retweet_count},t=function(t){return t.maxRetweets}),{max:t,selection:e}}},methods:{filterTime:function(t){return"minute"==this.timePeriod?(t.setSeconds(0),t.setMilliseconds(0)):(t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)),t}},directives:{axis:function(t,e){var n=e.arg,o={x:"axisBottom",y:"axisLeft"}[n],c=e.value[n],l=r.transition().duration(500).ease(r.easeLinear);r.select(t).transition(l).call(r[o](c))}}},c=(n(336),n(27)),component=Object(c.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vis",attrs:{id:"stacked"}},[n("svg",{attrs:{width:t.svgWidth,height:t.svgHeight}},[n("g",{attrs:{transform:"translate("+t.margin.left+","+t.margin.top+")"}},[t._l(t.stack,(function(e,i){return n("g",t._l(t.stack[i],(function(e,r){return n("rect",{attrs:{height:t.stackScale.y(e[0])-t.stackScale.y(e[1]),width:t.width/t.tweets.length,x:t.stackScale.x(new Date(e.data.key)),y:t.stackScale.y(e[1]),fill:"#8addff",stroke:"#8addff","fill-opacity":i%2?.2:.6},on:{mouseover:function(n){return t.$emit("tooltip",{visible:!0,id:e.data.values[i].id_str})},mouseout:function(e){return t.$emit("tooltip",{visible:!1})}}})})),0)})),t._v(" "),n("g",{directives:[{name:"axis",rawName:"v-axis:x",value:t.stackScale,expression:"stackScale",arg:"x"}],attrs:{transform:"translate(0, "+t.height+")"}}),t._v(" "),n("g",{directives:[{name:"axis",rawName:"v-axis:y",value:t.stackScale,expression:"stackScale",arg:"y"}]})],2)]),t._v(" "),n("div",{attrs:{id:"stack-select"}},[n("label",{attrs:{for:"stacked-selection"}},[t._v("Choose a Y Axis:")]),t._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:t.stacked_select,expression:"stacked_select"}],attrs:{id:"stacked-selection"},on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.stacked_select=e.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"tweets"}},[t._v("Tweets")]),t._v(" "),n("option",{attrs:{value:"followers"}},[t._v("Followers")]),t._v(" "),n("option",{attrs:{value:"likes"}},[t._v("Likes")]),t._v(" "),n("option",{attrs:{value:"retweets"}},[t._v("Retweets")])])])])}),[],!1,null,"8681511c",null);e.a=component.exports},309:function(t,e,n){"use strict";n(284);var r={name:"twitter-tooltip",components:{Tweet:n(338).Tweet},props:["id","visible"]},o=(n(342),n(27)),component=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:{active:this.visible},attrs:{id:"tooltip"}},[e("Tweet",{key:this.id,attrs:{id:this.id}},[e("div",{staticClass:"spinner"})])],1)}),[],!1,null,"c39687a8",null);e.a=component.exports},330:function(t,e,n){"use strict";var r=n(286);n.n(r).a},331:function(t,e,n){(e=n(56)(!1)).push([t.i,"#correlations[data-v-016c17d3]{display:block;text-align:center}",""]),t.exports=e},332:function(t,e,n){"use strict";var r=n(287);n.n(r).a},333:function(t,e,n){(e=n(56)(!1)).push([t.i,".vis-container[data-v-bfc29992]{display:block}#title[data-v-bfc29992]{font-size:1.5em;font-weight:700}#title[data-v-bfc29992],.selection[data-v-bfc29992]{text-align:center}",""]),t.exports=e},334:function(t,e,n){"use strict";var r=n(288);n.n(r).a},335:function(t,e,n){(e=n(56)(!1)).push([t.i,"circle[data-v-7cc8fa06]{transition:fill 1s ease-in-out 0s,r 1s ease-in-out 1.2s,cx 1s ease-in-out 2.4s,cy 1s ease-in-out 2.9s,fill-opacity .5s ease-in-out 4.1s,stroke-opacity .5s ease-in-out 4.6s}",""]),t.exports=e},336:function(t,e,n){"use strict";var r=n(289);n.n(r).a},337:function(t,e,n){(e=n(56)(!1)).push([t.i,"rect[data-v-8681511c]{transition:all .5s ease-in-out 0s}",""]),t.exports=e},342:function(t,e,n){"use strict";var r=n(291);n.n(r).a},343:function(t,e,n){(e=n(56)(!1)).push([t.i,"#tooltip[data-v-c39687a8]{position:fixed;pointer-events:none;opacity:0;width:400px}#tooltip.active[data-v-c39687a8]{transition:opacity 1s ease-in-out 0s;opacity:1}iframe[data-v-c39687a8]{width:100%!important;margin:0!important;border:none!important;box-shadow:none!important}",""]),t.exports=e}}]);