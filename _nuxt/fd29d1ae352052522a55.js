(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{290:function(e,t,n){var content=n(338);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(57).default)("3a5de2e4",content,!0,{sourceMap:!1})},337:function(e,t,n){"use strict";var r=n(290);n.n(r).a},338:function(e,t,n){(t=n(56)(!1)).push([e.i,".container{display:flex}#sidebar-container{width:20vw;height:150vh}#sidebar{position:-webkit-sticky;position:sticky;top:0;width:20vw;float:left;padding:20px}#intro{width:100vw;text-align:center;padding:20px}#intro input{width:200px}.value{font-weight:800;font-size:2em}.label,label{display:block}#main{width:75vw;height:150vh}path{fill:none}.vis{display:block;text-align:center}.date{font-size:.5em;padding-bottom:2em}",""]),e.exports=t},340:function(e,t,n){"use strict";n.r(t);n(40),n(16),n(41);var r=n(5),o=n(284),l=n(291),c=n.n(l),d=n(300),v=n(301),m=n(302),f=n(303),_=n(304);function w(e){return e.created_at=new Date(e.created_at),e.reply_count=1,e.quote_count=1,e.interaction_count=e.quote_count+e.retweet_count+e.reply_count+e.favorite_count,e}Date.prototype.addHours=function(e){return this.setTime(this.getTime()+60*e*60*1e3),this},Date.prototype.addMinutes=function(e){return this.setTime(this.getTime()+60*e*1e3),this};var h={components:{"vis-1":d.a,correlation:v.a,"vis-2":m.a,"vis-3":f.a,"twitter-tooltip":_.a},data:function(){return{allTweets:[],candles:[],followers_count:0,retweet_count:0,reply_count:0,favorite_count:0,sentiment_min:0,verified:!1,timePeriod:"minute",startPeriod:0,endPeriod:.5,grid:!0,tooltipVisible:!1,selectedTweet:"6"}},created:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.a.get("./data/dynamodb-download.json");case 2:n=t.sent,n.data.sort((function(a,b){return new Date(b.timestamp.S)-new Date(a.timestamp.S)})).forEach((function(t){"candle"==t.type.S?(t.content=JSON.parse(t.content.S),t.content.timestampMs=new Date(t.content.timestampMs),e.candles.push(t.content)):new Date(t.timestamp.S)>new Date("2020-03-29T05:36:44.000Z")&&e.allTweets.push(w(JSON.parse(t.content.S)))}));case 5:case"end":return t.stop()}}),t)})))()},computed:{tweets:function(){var e=this;return this.allTweets.filter((function(t){return t.created_at>=e.startDate&&t.created_at<=e.endDate}))},width:function(){return this.svgWidth-this.margin.left-this.margin.right},height:function(){return this.svgHeight-this.margin.top-this.margin.bottom},startDate:function(){return new Date("2020-03-29T05:36:44.000Z")},endDate:function(){return new Date("2020-03-29T07:36:44.000Z").addHours(this.endPeriod)},filteredTweets:function(){var e=this;return this.tweets.filter((function(t){return t.user.followers_count>=e.followers_count&&Math.abs(t.sentiment)>=e.sentiment_min&&t.retweet_count>=e.retweet_count&&t.reply_count>=e.reply_count&&t.favorite_count>=e.favorite_count&&(!e.verified||e.verified==t.user.verified)}))},filteredCandles:function(){var e=this;return this.candles.filter((function(t){return t.timestampMs>=e.startDate&&t.timestampMs<=e.endDate}))},aggregateTweets:function(){var e=this;return o.nest().key((function(t){return e.filterTime(t.created_at)})).rollup((function(e){return{count:e.length,followerMax:o.max(e,(function(e){return e.user.followers_count})),retweetMax:o.max(e,(function(e){return e.retweet_count})),likeMax:o.max(e,(function(e){return e.favorite_count})),sentimentAvg:o.mean(e,(function(e){return e.sentiment})),sentimentLikeAvg:o.sum(e,(function(t){return t.sentiment*t.favorite_count/o.sum(e,(function(e){return e.favorite_count}))})),sentimentFollowerAvg:o.sum(e,(function(t){return t.sentiment*t.user.followers_count/o.sum(e,(function(e){return e.user.followers_count}))})),sentimentCommentAvg:o.sum(e,(function(t){return t.sentiment*t.reply_count/o.sum(e,(function(e){return e.reply_count}))})),sentimentRetweetAvg:o.sum(e,(function(t){return t.sentiment*t.retweet_count/o.sum(e,(function(e){return e.retweet_count}))})),sentimentInteractionAvg:o.sum(e,(function(t){return t.sentiment*t.interaction_count/o.sum(e,(function(e){return e.interaction_count}))}))}})).entries(this.filteredTweets)},aggregateCandles:function(){var e=this;return o.nest().key((function(t){return e.filterTime(t.timestampMs)})).rollup((function(e){return{count:e.length,closeAvg:o.mean(e,(function(e){return e.close}))}})).entries(this.filteredCandles)},maxComments:function(){return o.max(this.filteredTweets,(function(e){return e.reply_count}))},maxLikes:function(){return o.max(this.filteredTweets,(function(e){return e.favourite_count}))},maxRetweets:function(){return o.max(this.filteredTweets,(function(e){return e.retweet_count}))},maxFollowers:function(){return o.max(this.filteredTweets,(function(e){return e.user.followers_count}))}},methods:{filterTime:function(e){return"minute"==this.timePeriod?(e.setSeconds(0),e.setMilliseconds(0)):(e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0)),e},processMouseover:function(e){1==e.visible?(this.tooltipVisible=!0,this.selectedTweet=e.id):this.tooltipVisible=!1;o.select("#tooltip").style("left",event.clientX+"px").style("top",event.clientY+"px")}},directives:{axis:function(e,t){var n=t.arg,r={x:"axisBottom",y:"axisLeft"}[n],l=t.value[n],c=o.transition().duration(500).ease(o.easeLinear);o.select(e).transition(c).call(o[r](l))}}},x=(n(337),n(27)),component=Object(x.a)(h,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{attrs:{id:"sidebar-container"}},[n("div",{attrs:{id:"sidebar"}},[n("div",{staticClass:"selection"},[n("label",{attrs:{for:"startDateSlider"}},[e._v("Start Date")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.startPeriod,expression:"startPeriod"}],staticClass:"slider",attrs:{type:"range",min:"0",max:"60",id:"startDateSlider"},domProps:{value:e.startPeriod},on:{__r:function(t){e.startPeriod=t.target.value}}}),e._v(" "),n("div",{staticClass:"date"},[e._v(e._s(e.startDate))])]),e._v(" "),n("div",{staticClass:"selection"},[n("label",{attrs:{for:"endDateSlider"}},[e._v("End Date")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.endPeriod,expression:"endPeriod"}],staticClass:"slider",attrs:{type:"range",min:"1",max:"60",id:"endDateSlider"},domProps:{value:e.endPeriod},on:{__r:function(t){e.endPeriod=t.target.value}}}),e._v(" "),n("div",{staticClass:"date"},[e._v(e._s(e.endDate))])]),e._v(" "),n("div",{staticClass:"selection"},[n("span",{staticClass:"label"},[e._v("Total Tweets")]),e._v(" "),n("span",{staticClass:"value"},[e._v(e._s(e.tweets.length))])]),e._v(" "),n("div",{staticClass:"selection"},[n("span",{staticClass:"label"},[e._v("Filtered Tweets")]),e._v(" "),n("span",{staticClass:"value"},[e._v(e._s(e.filteredTweets.length))])]),e._v(" "),n("div",{staticClass:"selection"},[n("span",{staticClass:"label"},[e._v("Number of "+e._s(e.timePeriod)+"s")]),e._v(" "),n("span",{staticClass:"value"},[e._v(e._s(e.aggregateTweets.length))])]),e._v(" "),n("div",{staticClass:"selection"},[n("label",{attrs:{for:"timeperiod"}},[e._v("Time Period")]),e._v(" "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.timePeriod,expression:"timePeriod"}],attrs:{id:"timeperiod"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.timePeriod=t.target.multiple?n:n[0]}}},[n("option",{attrs:{value:"minute"}},[e._v("Minute")]),e._v(" "),n("option",{attrs:{value:"hour"}},[e._v("Hour")])])]),e._v(" "),n("div",{staticClass:"selection"},[n("label",{attrs:{for:"followerSlider"}},[e._v("Followers")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.followers_count,expression:"followers_count"}],staticClass:"slider",attrs:{type:"range",min:"0",max:"1000",step:"10",id:"followerSlider"},domProps:{value:e.followers_count},on:{__r:function(t){e.followers_count=t.target.value}}}),e._v(e._s(e.followers_count)+"\n      ")]),e._v(" "),n("div",{staticClass:"selection"},[n("label",{attrs:{for:"retweetSlider"}},[e._v("Retweets")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.retweet_count,expression:"retweet_count"}],staticClass:"slider",attrs:{type:"range",min:"0",max:"1000",step:"10",id:"retweetSlider"},domProps:{value:e.retweet_count},on:{__r:function(t){e.retweet_count=t.target.value}}}),e._v(e._s(e.retweet_count)+"\n      ")]),e._v(" "),n("div",{staticClass:"selection"},[n("label",{attrs:{for:"likeSlider"}},[e._v("Likes")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.favorite_count,expression:"favorite_count"}],staticClass:"slider",attrs:{type:"range",min:"0",max:"1000",step:"10",id:"likeSlider"},domProps:{value:e.favorite_count},on:{__r:function(t){e.favorite_count=t.target.value}}}),e._v(e._s(e.favorite_count)+"\n      ")]),e._v(" "),n("div",{staticClass:"selection"},[n("label",{attrs:{for:"commentSlider"}},[e._v("Comments")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.reply_count,expression:"reply_count"}],staticClass:"slider",attrs:{type:"range",min:"0",max:"1000",step:"10",id:"commentSlider"},domProps:{value:e.reply_count},on:{__r:function(t){e.reply_count=t.target.value}}}),e._v(e._s(e.reply_count)+"\n      ")]),e._v(" "),n("div",{staticClass:"selection"},[n("label",{attrs:{for:"commentSlider"}},[e._v("Sentiment")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.sentiment_min,expression:"sentiment_min"}],staticClass:"slider",attrs:{type:"range",min:"0",max:"1",step:"0.05",id:"sentimentSlider"},domProps:{value:e.sentiment_min},on:{__r:function(t){e.sentiment_min=t.target.value}}}),e._v(e._s(e.sentiment_min)+"\n      ")]),e._v(" "),n("div",{staticClass:"selection"},[n("label",{attrs:{for:"verifiedCheckbox"}},[e._v("Verified Status Only")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.verified,expression:"verified"}],attrs:{type:"checkbox",id:"verifiedCheckbox"},domProps:{checked:Array.isArray(e.verified)?e._i(e.verified,null)>-1:e.verified},on:{change:function(t){var n=e.verified,r=t.target,o=!!r.checked;if(Array.isArray(n)){var l=e._i(n,null);r.checked?l<0&&(e.verified=n.concat([null])):l>-1&&(e.verified=n.slice(0,l).concat(n.slice(l+1)))}else e.verified=o}}})]),e._v(" "),n("div",{staticClass:"selection"},[n("label",{attrs:{for:"gridCheckbox"}},[e._v("Grid")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.grid,expression:"grid"}],attrs:{type:"checkbox",id:"gridCheckbox"},domProps:{checked:Array.isArray(e.grid)?e._i(e.grid,null)>-1:e.grid},on:{change:function(t){var n=e.grid,r=t.target,o=!!r.checked;if(Array.isArray(n)){var l=e._i(n,null);r.checked?l<0&&(e.grid=n.concat([null])):l>-1&&(e.grid=n.slice(0,l).concat(n.slice(l+1)))}else e.grid=o}}})])])]),e._v(" "),n("div",{attrs:{id:"main"}},[n("vis-1",{attrs:{start:e.startDate,end:e.endDate,tweets:e.aggregateTweets,candles:e.aggregateCandles}}),e._v(" "),n("correlation",{attrs:{tweets:e.aggregateTweets,candles:e.aggregateCandles}}),e._v(" "),n("vis-2",{attrs:{start:e.startDate,end:e.endDate,tweets:e.filteredTweets,grid:e.grid},on:{tooltip:e.processMouseover}}),e._v(" "),n("vis-3",{attrs:{timePeriod:e.timePeriod,start:e.startDate,end:e.endDate,tweets:e.aggregateTweets,filteredTweets:e.filteredTweets},on:{tooltip:e.processMouseover}})],1),e._v(" "),n("twitter-tooltip",{attrs:{id:e.selectedTweet,visible:e.tooltipVisible}})],1)}),[],!1,null,null,null);t.default=component.exports}}]);